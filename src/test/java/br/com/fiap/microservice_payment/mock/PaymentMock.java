package br.com.fiap.microservice_payment.mock;

import com.fasterxml.jackson.core.JsonProcessingException;
import com.fasterxml.jackson.databind.DeserializationFeature;
import com.fasterxml.jackson.databind.ObjectMapper;
import com.mercadopago.resources.payment.Payment;

public class PaymentMock {

    public static Payment getPayment() throws JsonProcessingException {
        String json = "{"
                + "\"id\": 99080905081,"
                + "\"dateCreated\": null,"
                + "\"dateApproved\": null,"
                + "\"dateLastUpdated\": null,"
                + "\"dateOfExpiration\": null,"
                + "\"moneyReleaseDate\": null,"
                + "\"moneyReleaseSchema\": null,"
                + "\"operationType\": \"regular_payment\","
                + "\"issuerId\": \"12501\","
                + "\"paymentMethodId\": \"pix\","
                + "\"paymentTypeId\": \"bank_transfer\","
                + "\"status\": \"pending\","
                + "\"statusDetail\": \"pending_waiting_transfer\","
                + "\"currencyId\": \"BRL\","
                + "\"description\": \"Compra no PIX\","
                + "\"liveMode\": true,"
                + "\"sponsorId\": null,"
                + "\"authorizationCode\": null,"
                + "\"integratorId\": null,"
                + "\"platformId\": null,"
                + "\"corporationId\": null,"
                + "\"collectorId\": 211618361,"
                + "\"payer\": {"
                + "\"type\": null,"
                + "\"id\": \"1643528249\","
                + "\"email\": null,"
                + "\"identification\": {"
                + "\"type\": null,"
                + "\"number\": null"
                + "},"
                + "\"firstName\": null,"
                + "\"lastName\": null,"
                + "\"entityType\": null"
                + "},"
                + "\"metadata\": {},"
                + "\"additionalInfo\": {"
                + "\"ipAddress\": null,"
                + "\"items\": null,"
                + "\"payer\": null,"
                + "\"shipments\": null"
                + "},"
                + "\"order\": {"
                + "\"id\": null,"
                + "\"type\": null"
                + "},"
                + "\"externalReference\": null,"
                + "\"transactionAmount\": 0.01,"
                + "\"transactionAmountRefunded\": 0,"
                + "\"couponAmount\": 0,"
                + "\"differentialPricingId\": null,"
                + "\"installments\": 1,"
                + "\"transactionDetails\": {"
                + "\"financialInstitution\": null,"
                + "\"netReceivedAmount\": 0,"
                + "\"totalPaidAmount\": 0.01,"
                + "\"installmentAmount\": 0,"
                + "\"overpaidAmount\": 0,"
                + "\"externalResourceUrl\": null,"
                + "\"paymentMethodReferenceId\": null,"
                + "\"acquirerReference\": null,"
                + "\"transactionId\": null,"
                + "\"digitableLine\": null,"
                + "\"verificationCode\": null,"
                + "\"payableDeferralPeriod\": null,"
                + "\"bankTransferId\": null,"
                + "\"barcode\": null"
                + "},"
                + "\"feeDetails\": [],"
                + "\"captured\": true,"
                + "\"binaryMode\": false,"
                + "\"callForAuthorizeId\": null,"
                + "\"statementDescriptor\": null,"
                + "\"card\": {"
                + "\"id\": null,"
                + "\"lastFourDigits\": null,"
                + "\"firstSixDigits\": null,"
                + "\"expirationYear\": 0,"
                + "\"expirationMonth\": 0,"
                + "\"dateCreated\": null,"
                + "\"dateLastUpdated\": null,"
                + "\"cardholder\": null"
                + "},"
                + "\"notificationUrl\": null,"
                + "\"callbackUrl\": null,"
                + "\"processingMode\": \"aggregator\","
                + "\"merchantAccountId\": null,"
                + "\"merchantNumber\": null,"
                + "\"couponCode\": null,"
                + "\"netAmount\": null,"
                + "\"paymentMethodOptionId\": null,"
                + "\"taxes\": null,"
                + "\"taxesAmount\": 0,"
                + "\"counterCurrency\": null,"
                + "\"shippingAmount\": 0,"
                + "\"posId\": null,"
                + "\"storeId\": null,"
                + "\"deductionSchema\": null,"
                + "\"refunds\": [],"
                + "\"pointOfInteraction\": {"
                + "\"type\": \"OPENPLATFORM\","
                + "\"subType\": null,"
                + "\"linkedTo\": null,"
                + "\"applicationData\": {"
                + "\"name\": null,"
                + "\"version\": null"
                + "},"
                + "\"transactionData\": {"
                + "\"qrCode\": \"\","
                + "\"qrCodeBase64\": \"\","
                + "\"transactionId\": null,"
                + "\"bankTransferId\": null,"
                + "\"financialInstitution\": null,"
                + "\"bankInfo\": {"
                + "\"payer\": {"
                + "\"email\": null,"
                + "\"accountId\": null,"
                + "\"longName\": null"
                + "},"
                + "\"collector\": {"
                + "\"accountId\": null,"
                + "\"longName\": null"
                + "},"
                + "\"isSameBankAccountOwner\": null"
                + "},"
                + "\"ticketUrl\": \"https://www.mercadopago.com.br/payments//ticket?caller_id=&hash=e0e5f821-f998--a66c-\","
                + "\"firstTimeUse\": false,"
                + "\"subscriptionSequence\": null,"
                + "\"subscriptionId\": null,"
                + "\"invoicePeriod\": null,"
                + "\"paymentReference\": null,"
                + "\"billingDate\": null"
                + "}"
                + "},"
                + "\"paymentMethod\": {"
                + "\"data\": null"
                + "},"
                + "\"threeDSInfo\": null,"
                + "\"internalMetadata\": null"
                + "}";

        ObjectMapper mapper = new ObjectMapper();
        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);
        Payment obj = mapper.readValue(json, Payment.class);

        return  mapper.readValue(json, Payment.class);
    }
}
